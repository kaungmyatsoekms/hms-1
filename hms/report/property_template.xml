<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_simple_property">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <div class="page">
                    <div class="row">
                        <div class="col-9" style="float:left;">
                            <h5>
                                <strong>
                                    Properties
                                </strong>
                            </h5>
                        </div>
                        <div class="col-3" style="float:right;font-size:13px;">
                            <strong>
                                <p id="date">
                                    <script>
                                        var d = new Date();
                                        var dd =  d.getDate();
                                        var mm =  d.getMonth()+1;
                                        var year = d.getFullYear();
                                        var seconds = d.getSeconds();
                                        var minutes = d.getMinutes();
                                        var hour = d.getHours();
                                        document.getElementById("date").innerHTML ="Printed Date:  "+ dd+"/"+mm+"/"+year+"\t"+hour+":"+minutes+":"+seconds;
                                    </script>
                                </p>
                            </strong>
                        </div>
                    </div>
                    <table class="table table-condensed" style="width:100%;font-size:14px;background:white;">
                        <thead>
                            <tr>
                                <th style="width:5%;">
                                    Code
                                </th>
                                <th style="width:15%;">
                                    Building
                                </th>
                                <th style="width:15%;">
                                    Room Type
                                </th>
                                <th style="width:7%;">
                                    Total Bld
                                </th>
                                <th style="width:7%;">
                                    Total Rmty
                                </th>
                                <th style="width:7%;">
                                    Total Rm
                                </th>
                                <th style="width:5%;">
                                    Ph
                                </th>
                                <th style="width:5%;">
                                    Email
                                </th>
                                <th style="width:5%;">
                                    Website
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="docs" t-as="o">
                                <t t-set="property" t-value="property"/>
                                <tr>
                                    <td>
                                        <t t-esc="o['code']"/>
                                    </td>
                                    <td>
                                        <t t-foreach="o.building_ids" t-as="building">
                                            <span t-if="building.building_name != 'ZZZ'" t-field="building.building_name"/>
                                        </t>
                                    </td>
                                    <td>
                                        <t t-foreach="o.roomtype_ids" t-as="roomtype">
                                            <span t-if="roomtype.code != 'HFO'" t-field="roomtype.name"/>
                                        </t>
                                    </td>
                                    <td>
                                        <t t-esc="o['building_count']"/>
                                    </td>
                                    <td>
                                        <t t-esc="o['roomtype_count']"/>
                                    </td>
                                    <td>
                                        <t t-esc="o['room_count']"/>
                                    </td>
                                    <td>
                                        <t t-esc="o['phone']"/>
                                    </td>
                                    <td>
                                        <t t-esc="o['email']"/>
                                    </td>
                                    <td>
                                        <t t-esc="o['website']"/>
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </t>
        </t>
    </template>

    <!-- <template id="report_hms_property">
        <t t-call="web.basic_layout">
            <div class="page">
                <t t-foreach = "docs" t-as="property">
                    <t t-call="hms.report_simple_property">
                        <t t-set="property" t-value="property"/>
                    </t>
                </t>
            </div>
        </t>
    </template> -->

    <template id="report_property_qweb">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <div class="page">
                    <div class="row">
                        <h4>
                            <strong>
                                <span t-esc="property_id"/>
                            </strong>
                        </h4>
                    </div>
                    <table class="table table-condensed" style="width:100%;font-size:14px;background:#f5f5f0;">
                        <thead>
                            <tr>
                                <th style="width:15%;border:1px solid lightgray;">
                                    Code
                                </th>
                                <th style="width:25%;border:1px solid lightgray;">
                                    Building
                                </th>
                                <th style="width:25%;border:1px solid lightgray;">
                                    Room Type
                                </th>
                                <th style="width:10%;border:1px solid lightgray;">
                                    Total Bld
                                </th>
                                <th style="width:10%;border:1px solid lightgray;">
                                    Total Rmty
                                </th>
                                <th style="width:10%;border:1px solid lightgray;">
                                    Total Rm
                                </th>
                            </tr>
                        </thead>
                        <tbody style="background:white;">
                            <tr t-foreach="get_property" t-as="info">
                                <td style="border:1px solid lightgray;">
                                    <span t-field="info.code"/>
                                </td>
                                <td style="border:1px solid lightgray;">
                                    <t t-foreach="info.building_ids" t-as="building">
                                        <span t-if="building.building_name != 'ZZZ'" t-field="building.building_name"/>
                                        <!-- <t t-if="building.building_name != 'ZZZ'" t-esc="building.building_name"/>
        , -->
                                    </t>
                                </td>
                                <td style="border:1px solid lightgray;">
                                    <t t-foreach="info.roomtype_ids" t-as="roomtype">
                                        <span t-if="roomtype.code != 'HFO'" t-field="roomtype.name"/>
                                        <!-- <t t-if="roomtype.code != 'HFO'" t-esc="roomtype.name"/>
        , -->
                                    </t>
                                </td>
                                <td style="border:1px solid lightgray;">
                                    <span t-field="info.building_count"/>
                                </td>
                                <td style="border:1px solid lightgray;">
                                    <span t-field="info.roomtype_count"/>
                                </td>
                                <td style="border:1px solid lightgray;">
                                    <span t-field="info.room_count"/>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </t>
        </t>
    </template>
</odoo>